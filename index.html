<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>test</title>
</head>

<body>
    <canvas style="background-color:#ededed" id="canvas" height="400" width="500"></canvas>
</body>

</html>
<script>
    function addLine(x1,y1,x2,y2) {
        const canvas = document.getElementById('canvas')
        if(!canvas.getContext) return

        const ctx = canvas.getContext('2d')
        ctx.strokeStyle = 'black'
        ctx.lineWidth = 5

        ctx.beginPath()
        ctx.moveTo(x1,y1)
        ctx.lineTo(x2,y2)
        ctx.stroke()
    }

    var preX = -1, preY = -1

    document.getElementById('canvas').addEventListener('mousemove', (ev) => {
        if(ev.buttons == 1) {
            if(preX >= 0 && preY >= 0) addLine(preX, preY, ev.clientX, ev.clientY)
            preX = ev.clientX
            preY = ev.clientY
            console.log(`X: ${ev.clientX} | Y: ${ev.clientY}`)
        }
    })

    document.getElementById('canvas').addEventListener('mouseup', (ev) => {
        preX = -1
        preY = -1
    })
</script>